<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>836. 矩形重叠</title>
</head>

<body>
    <a href="https://leetcode-cn.com/problems/rectangle-overlap/">836. 矩形重叠</a>
</body>

<script>
    /*
    https://leetcode-cn.com/problems/rectangle-overlap/submissions/
    矩形以列表 [x1, y1, x2, y2] 的形式表示，其中 (x1, y1) 为左下角的坐标，(x2, y2) 是右上角的坐标。
    如果相交的面积为正，则称两矩形重叠。需要明确的是，只在角或边接触的两个矩形不构成重叠。
    给出两个矩形，判断它们是否重叠并返回结果。
     */
    const abs = Math.abs;
    const max = Math.max;
    const min = Math.min;
    var rec1 = [0, 0, 2, 2],
        rec2 = [1, 1, 3, 3], //true
        rec3 = [0, 0, 1, 1],
        rec4 = [1, 0, 2, 1], //false
        rec5 = [5, 15, 8, 18],
        rec6 = [0, 3, 7, 9]; //false
    var isRectangleOverlap1 = function (rec1, rec2) {
        // 对每种情况分开判断显然很复杂，另辟蹊径
        if (max(rec1[0], rec2[0]) < min(rec1[2], rec2[2])) {
            if (max(rec1[1], rec2[1]) < min(rec1[3], rec2[3])) {
                return true
            } else {
                return false;
            }
        } else {
            return false;
        }
    };

    // isRectangleOverlap2优于isRectangleOverlap1，其用时更少
    var isRectangleOverlap2 = function (rec1, rec2) {
        // 判断不重叠的情况似乎更加简单
        if (rec1[2] <= rec2[0] || rec1[0] >= rec2[2]) {
            return false;
        } else {
            if (rec1[3] <= rec2[1] || rec2[3] <= rec1[1]) {
                return false;
            } else {
                return true;
            }
        }
    };

    // 可以算出面积，三种方法中此方法用时最多，且内存消耗也多
    var isRectangleOverlap3 = function (rec1, rec2) {
        if (rec1[2] <= rec2[0] || rec2[2] <= rec1[0] || rec1[3] <= rec2[1] || rec2[3] <= rec1[1]) {
            return false;
        } else {
            var area = (abs(min(rec1[3], rec2[3]) - max(rec1[1], rec2[1]))) *
                (abs(min(rec1[2], rec2[2]) - max(rec1[0], rec2[0])));
            console.log("重叠面积为：" + area);
            return new Boolean(area);
        }
    };

    // 此方法用时最短，为什么？其语句看起来多，实际上只用了最简单的循环和判断
    var isRectangleOverlap4 = function (rec1, rec2) {
        if (rec1[0] >= rec2[2] || rec1[2] <= rec2[0] || rec1[1] >= rec2[3] || rec1[3] <= rec2[1]) {
            return false
        }
        return true;
    };

    console.log("isRectangleOverlap1：" + isRectangleOverlap1(rec1, rec2));
    console.log("isRectangleOverlap2：" + isRectangleOverlap2(rec1, rec2));
    console.log("isRectangleOverlap3：" + isRectangleOverlap3(rec1, rec2));
    console.log("isRectangleOverlap1：" + isRectangleOverlap1(rec3, rec4));
    console.log("isRectangleOverlap2：" + isRectangleOverlap2(rec3, rec4));
    console.log("isRectangleOverlap3：" + isRectangleOverlap3(rec3, rec4));
    console.log("isRectangleOverlap1：" + isRectangleOverlap1(rec5, rec6));
    console.log("isRectangleOverlap2：" + isRectangleOverlap2(rec5, rec6));
    console.log("isRectangleOverlap3：" + isRectangleOverlap3(rec5, rec6));

</script>

</html>
